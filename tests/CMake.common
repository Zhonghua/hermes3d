# !!! Keep the order of packages and libraries unless linking would be broken !!!
# !!! Do NOT edit the lines below UNLESS you are REALLY SURE what you are doing !!!
#

# Judy
set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} ${JUDY_INCLUDE_DIR})
set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${JUDY_LIBRARY}) 

# UMFPACK
if(USE_UMFPACK)
	set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} 
		${UFCONFIG_INCLUDE_DIR}
		${UMFPACK_INCLUDE_DIR}
		${AMD_INCLUDE_DIR}
	)
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES}
		${UMFPACK_LIBRARY}
		${AMD_LIBRARY}
	)
endif(USE_UMFPACK)

# PARDISO
if(USE_PARDISO)
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES}
		${PARDISO_LIBRARY}
	)
endif(USE_PARDISO)

# PETSc
if(USE_PETSC)
	set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} ${PETSC_INCLUDE_DIRS})
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${PETSC_LIBRARIES})

	# X11 (stupid PETSc is linked against X11 - can we avoid this?)
	find_package(X11 REQUIRED)
	if(X11_FOUND)
		set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${X11_LIBRARY} dl Xau Xdmcp)
	endif(X11_FOUND)
endif(USE_PETSC)

# HDF5
if(USE_HDF5)
	set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} ${HDF5_INCLUDE_DIR})
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${HDF5_LIBRARY})

	# ZLIB
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${ZLIB_LIBRARY})
endif(USE_HDF5)

# ACML
if(USE_ACML)
	set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} ${ACML_INCLUDE_DIR})
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${ACML_LIBRARY})
endif(USE_ACML)

if(USE_BLAS)
	set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} ${BLAS_INCLUDE_DIR})
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${BLAS_LIBRARY})
endif(USE_BLAS)

if(USE_LAPACK)
	set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} ${LAPACK_INCLUDE_DIR})
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${LAPACK_LIBRARY})
endif(USE_LAPACK)

if(USE_GLUT)
	set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} ${GLUT_INCLUDE_DIR})
	set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${GLUT_LIBRARY})
endif(USE_GLUT)

# Fortran 
# usually needed by linear solvers
set(TESTS_INCLUDE_DIRS ${TESTS_INCLUDE_DIR} ${FORTRAN_INCLUDE_DIR})
set(TESTS_LIBRARIES ${TESTS_LIBRARIES} ${FORTRAN_LIBRARY})
